#! /usr/bin/env python

import phrydy
from phrydy import MediaFile
from phrydy.doc import Debug
import argparse

parser = argparse.ArgumentParser(
    description='Debugging tool of the Python package “phrydy”, an easy \
    wrapper around the “mutagen” library.'
)

parser.add_argument(
    'audio',
    help='A audio file',
    type=file,
)

parser.add_argument(
    '-c',
    '--color',
    help='Colorize the output',
    action='store_true',
)

args = parser.parse_args()

if args.audio:
    print('phrydy version ' + phrydy.__version__)

    Debug(
        media_file=args.audio.name,
        MediaClass=MediaFile,
        field_generator=MediaFile.readable_fields,
        color=args.color,
    ).output()
